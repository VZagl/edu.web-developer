# 018. Позиционирование элементов в CSS. Принцип карточной колоды

---

## [`position`](https://developer.mozilla.org/ru/docs/Web/CSS/position)

> Свойство CSS `position` указывает, как элемент позиционируется в документе. `top`, `right`, `bottom` и `left` определяют конечное местоположение позиционированных элементов.

### Синтаксис

```css
position: static;
position: relative;
position: absolute;
position: fixed;
position: sticky;

/* Global values */
position: inherit;
position: initial;
position: revert;
position: revert-layer;
position: unset;
```

### Типы позиционирования

- **Позиционируемый элемент** — это элемент, у которого [вычисленное значение](https://developer.mozilla.org/ru/docs/Web/CSS/computed_value) `position` является `relative`, `absolute`, `fixed` - либо `sticky`. <mark>(Другими словами, это все, кроме `static`.)</mark>
- **Относительно позиционируемый элемент является элементом**, вычисленное значение `position` которого является `relative`. - Свойства `top` и `bottom` определяют смещение по вертикали от его нормального положения; свойства `left` и `right` задают - горизонтальное смещение.
- **Абсолютно позиционируемый элемент** — это элемент, чьё вычисленное значение `position` является `absolute` или `fixed`. `top`, `right`, `bottom` и `left` задают смещения от краёв [содержащего блок элемента](https://developer.mozilla.org/ru/docs/Web/CSS/Containing_block). (Содержащий блок является <mark>ближайшим позиционируемым предком, относительно которого расположен элемент. Если таких нет, то `<body>`.</mark>) Если элемент имеет поля, они добавляются к смещению. Элемент устанавливает - новый [контекст форматирования блока](https://developer.mozilla.org/ru/docs/Web/CSS/CSS_display/Block_formatting_context) (BFC) для своего содержимого.
- **Элемент с липкой позицией** — это элемент, у которого значение вычисленного `position` является `sticky`. Он - рассматривается как относительно позиционированный до тех пор, пока содержащий его блок не пересечёт указанный порог - (например, установка top в значение, отличное от `auto`) внутри его корня потока (или в контейнере, в котором он - прокручивается), после чего он обрабатывается как «застрявший» до тех пор, пока не встретит противоположный край - содержащего его блока.
- `inherit` — это элемент, у которого значение вычисленного `position` берётся от родителя.

В большинстве случаев абсолютно позиционированные элементы, которые имеют `height` и `width` установленные в `auto`, имеют размер, соответствующий их содержимому. Тем не менее, незамещаемые, абсолютно позиционированные элементы можно сделать такими, чтобы они заполнили доступное вертикальное пространство, указав как `top`, так и `bottom`, и оставляя `height` неопределённым (то есть, `auto`). Ими также можно заполнить доступное горизонтальное пространство, указав как `left`, так и `right`, и оставляя `width` как `auto`.

За исключением только что описанного случая (абсолютно позиционированных элементов, заполняющих доступное пространство):

- Если указаны `top` и `bottom` (технически, не `auto`) — приоритет будет у `top`.
- Если указаны `left` и `right`: приоритет будет у `left`, когда [direction](https://developer.mozilla.org/ru/docs/Web/CSS/direction) `ltr` (английский язык, горизонтальный японский и т. д.), приоритет -будет у `right`, когда `direction` является `rtl` (персидский , Арабский, иврит и т. д.).

---

## [`z-index`](https://developer.mozilla.org/ru/docs/Web/CSS/z-index)

CSS-свойство `z-index` определяет положение [позиционированного](https://developer.mozilla.org/ru/docs/Web/CSS/position) элемента и его дочерних элементов или флекс-элементов по оси `z`. Перекрывающие элементы с большим значением `z-index` будут накладываться поверх элементов с меньшим `z-index`.

Для позиционированного элемента (т.е. если у него задано свойство `position` со значением, отличающимся от `static`) свойство `z-index` отвечает за:

- Порядок наложения в текущем [контексте наложения](https://developer.mozilla.org/ru/docs/Web/CSS/CSS_positioned_layout/Understanding_z-index/Stacking_context).
- Возможность создания локального контекста наложения.

### Синтаксис

```css
/* Ключевые слова */
z-index: auto;

/* Значения типа <integer> */
z-index: 0;
z-index: 3;
z-index: 289;
z-index: -1; /* Отрицательные значения понижают приоритет */

/* Глобальные значения */
z-index: inherit;
z-index: initial;
z-index: revert;
z-index: revert-layer;
z-index: unset;
```

Значением свойства `z-index` может быть либо `auto`, либо целое число (`<integer>`).

### Значения

- `auto`

  Элемент не будет создавать нового локального контекста наложения. Порядок наложения блока в текущим контексте наложения будет равен `0`.

- `<integer>`

  Порядок наложения блока, заданный в виде целого числа в текущем контексте наложения. При этом элемент создаёт новый локальный контекст наложения. Таким образом значения `z-index` дочерних элементов внутри нового контекста наложения не будут сравниваться со значениями `z-index` элементов за пределами этого блока.

---

## Ресурсы:

- [position](https://developer.mozilla.org/en-US/docs/Web/CSS/position)
- [z-index](https://developer.mozilla.org/en-US/docs/Web/CSS/z-index)
